// 2D Human Face Animation
const canvas = document.getElementById('binaryFaceCanvas');
const ctx = canvas.getContext('2d');
const container = document.querySelector('.ai-animation');

// Dynamically set canvas size to match container
function resizeCanvas() {
  canvas.width = container.offsetWidth;
  canvas.height = container.offsetHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Face parameters
const faceRadius = 100;
const eyeRadius = 15;
const mouthWidth = 80;
const mouthHeight = 40;
let frame = 0;

// Colors
const faceColor = '#00ffcc';
const eyeColor = '#ff00cc';
const mouthColor = '#00ffcc';

// Animation parameters
const blinkDuration = 10; // Frames for blinking
const blinkInterval = 200; // Frames between blinks
const mouthMovementSpeed = 0.05;

function drawFace() {
  // Clear the canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw face
  ctx.beginPath();
  ctx.arc(canvas.width / 2, canvas.height / 2, faceRadius, 0, Math.PI * 2);
  ctx.fillStyle = faceColor;
  ctx.fill();
  ctx.strokeStyle = '#00ffcc';
  ctx.lineWidth = 4;
  ctx.stroke();

  // Draw eyes
  const eyeOffsetX = 40;
  const eyeOffsetY = -30;

  // Left eye
  ctx.beginPath();
  ctx.arc(
    canvas.width / 2 - eyeOffsetX,
    canvas.height / 2 + eyeOffsetY,
    eyeRadius,
    0,
    Math.PI * 2
  );
  ctx.fillStyle = eyeColor;
  ctx.fill();

  // Right eye
  ctx.beginPath();
  ctx.arc(
    canvas.width / 2 + eyeOffsetX,
    canvas.height / 2 + eyeOffsetY,
    eyeRadius,
    0,
    Math.PI * 2
  );
  ctx.fillStyle = eyeColor;
  ctx.fill();

  // Blinking effect
  if (frame % blinkInterval < blinkDuration) {
    ctx.fillStyle = faceColor;
    ctx.fillRect(
      canvas.width / 2 - eyeOffsetX - eyeRadius,
      canvas.height / 2 + eyeOffsetY - eyeRadius,
      eyeRadius * 2,
      eyeRadius * 2
    );
    ctx.fillRect(
      canvas.width / 2 + eyeOffsetX - eyeRadius,
      canvas.height / 2 + eyeOffsetY - eyeRadius,
      eyeRadius * 2,
      eyeRadius * 2
    );
  }

  // Draw mouth
  const mouthCurve = Math.sin(frame * mouthMovementSpeed) * 20;
  ctx.beginPath();
  ctx.moveTo(canvas.width / 2 - mouthWidth / 2, canvas.height / 2 + 50);
  ctx.quadraticCurveTo(
    canvas.width / 2,
    canvas.height / 2 + 50 + mouthCurve,
    canvas.width / 2 + mouthWidth / 2,
    canvas.height / 2 + 50
  );
  ctx.strokeStyle = mouthColor;
  ctx.lineWidth = 4;
  ctx.stroke();

  // Add glowing effect
  ctx.shadowBlur = 20;
  ctx.shadowColor = '#00ffcc';
}

// Animation loop
function animate() {
  drawFace();
  frame++;
  requestAnimationFrame(animate);
}
animate();